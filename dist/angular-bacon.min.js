(function(){angular.module("angular-bacon",[]).run(["$rootScope","$parse",function(n,r){var t;return t=function(n,r,t,o){var e,a;return e=new Bacon.Bus,n[o](r,function(n){return e.push(n)},t),n.$on("$destroy",function(){return e.end()}),a=n.$eval(r),a!==void 0?e.toProperty(a):e.toProperty()},n.$watchAsProperty=function(n,r){return t(this,n,r,"$watch")},n.$watchCollectionAsProperty=function(n,r){return t(this,n,r,"$watchCollection")},n.digestObservables=function(n){var r;return r=this,angular.forEach(n,function(n,t){return n.digest(r,t)})},Bacon.Observable.prototype.digest=function(n,t){var o,e;return o=r(t).assign,e=this.subscribe(function(r){return r.hasValue()?n.$$phase?o(n,r.value()):n.$apply(function(){return o(n,r.value())}):void 0}),n.$on("$destroy",e),this},n.$asEventStream=function(n,r){var t;return t=this,Bacon.fromBinder(function(o){var e;return e=t.$on(n,function(n){var t;return n.args=r?Bacon._.object(r,Array.prototype.slice.call(arguments,1)):Array.prototype.slice.call(arguments,1),t=o(n),t===Bacon.noMore?e():void 0}),t.$on("$destroy",function(){return o(new Bacon.End)}),e})}}])}).call(this);