(function(){var e,r;e="undefined"!=typeof require&&null!==require?require("baconjs"):this.Bacon,r="undefined"!=typeof require&&null!==require?require("angular"):this.angular,r.module("angular-bacon",[]).run(["$rootScope","$parse",function(t,n){var o;return o=function(r,t,n,o){var u,i;return u=new e.Bus,r[o](t,function(e){return u.push(e)},n),r.$on("$destroy",function(){return u.end()}),i=r.$eval(t),i!==void 0?u.toProperty(i):u.toProperty()},Object.getPrototypeOf(t).$watchAsProperty=function(e,r){return o(this,e,r,"$watch")},Object.getPrototypeOf(t).$watchCollectionAsProperty=function(e,r){return o(this,e,r,"$watchCollection")},Object.getPrototypeOf(t).digestObservables=function(e){var t;return t=this,r.forEach(e,function(e,r){return e.digest(t,r)})},e.Observable.prototype.digest=function(e,r){var t,o;return t=n(r).assign,o=this.subscribe(function(r){return r.hasValue()?e.$$phase||e.$root.$$phase?t(e,r.value()):e.$apply(function(){return t(e,r.value())}):void 0}),e.$on("$destroy",o),this},t.$asEventStream=function(r){var t;return t=this,e.fromBinder(function(n){var o;return o=t.$on(r,function(r){var t;return r.args=Array.prototype.slice.call(arguments,1),t=n(r),t===e.noMore?o():void 0}),t.$on("$destroy",function(){return n(new e.End)}),o})}}]),"undefined"!=typeof module&&null!==module&&null!=module.exports&&(module.exports=r)}).call(this);